{% assign instagram_count = section.settings.instagram_count | times: 5 %}
<section class="instagram-section">
  <div class="container">
  {% if section.settings.title != blank %}
    <div class="insta-title">
      <h1 class="title">
        {% if settings.instagram_link != blank %}
          <a href="{{ settings.instagram_link }}" target="_blank">
        {% endif %}
        {{ section.settings.title | escape }}
        {% if settings.instagram_link != blank %}
          </a>
        {% endif %}
      </h1>
    </div><!--.insta-title-->
  {% endif %}
  </div>

  {% if section.settings.instagram_client_id != blank %}
  <div class="insta-slider">
    <div id="insta-feed"></div>
  </div>
  {% else %}
  <div class="insta-slider">
    <div class="clearfix placeholder-instagram">
      {% for i in (1..instagram_count) %}
        <div class="col-md-3">
          <a href="#">
            {{ 'image' | placeholder_svg_tag: 'placeholder-svg placeholder-svg--instagram' }}
          </a>
        </div>
      {% endfor %}
    </div>
  </div>
  {% endif %}

</section>


{% schema %}
{
  "name": "Instagram feed",
  "class": "instagram-feed-section",
  "settings": [
    {
      "type": "text",
      "id": "instagram_client_id",
      "label": "Instagram Access Token ([?](https:\/\/outofthesandbox.com\/pages\/instagram-access-token))"
    },
    {
      "type": "text",
      "id": "title",
      "label": "Heading",
      "default": "Instagram"
    },
    {
      "type": "range",
      "id": "instagram_count",
      "label": "Number of rows",
      "min": 1,
      "max": 4,
      "step": 1,
      "default": 1
    }
  ],
  "presets": [{
    "name": "Instagram feed",
    "category": "Social media",
    "settings": {

    }
  }]
}

{% endschema %}
